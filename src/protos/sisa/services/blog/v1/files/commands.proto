syntax = "proto3";

option csharp_namespace = "Sisa.Blog.Api.V1.Files.Commands";

package sisa.blog.api.v1.files.commands;

import "google/protobuf/wrappers.proto";

message FileMetadata {
  reserved 1;
  reserved "id";

  string name = 2; // original file name
  string path = 3; // file path
  string contentType = 4; // mime type
  int64 size = 5; // file size in bytes
  google.protobuf.StringValue title = 6;
  google.protobuf.StringValue description = 7;
  map<string, string> tags = 8;
}

message UploadFileCommand {
  oneof file {
    FileMetadata metadata = 1;
    bytes content = 2;
  }
}

message UpdateFileInfoCommand {
  // data fields: from 1 to 50
  reserved 2;

  string id = 1;
  google.protobuf.StringValue title = 3;
  google.protobuf.StringValue description = 4;
  map<string, string> tags = 5;
}

message DeleteFileCommand {
  string id = 1;
}
